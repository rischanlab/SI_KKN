CREATE TABLE KKN_MHS(
NO													NUMBER,
NIM													VARCHAR2(12),
ALAMAT_JOGJA										VARCHAR2(75),	
RT_JOGJA											VARCHAR2(25),	
DESA_JOGJA											VARCHAR2(25),	
NM_KEC_JOGJA										VARCHAR2(25),	
NM_KAB_JOGJA										VARCHAR2(25),	
KODE_POS_JOGJA										VARCHAR2(6),
FAK													VARCHAR2(50),
JK													CHAR(1),
PRESTASI 											VARCHAR2(75),
TRANSPORTASI										VARCHAR2(25),
PATH_SK_DOKTER                                     	VARCHAR2(150),
PATH_SK_GOLONGAN_DARAH                             	VARCHAR2(150),
PATH_SK_CUTI                                       	VARCHAR2(150),
PATH_SK_TIDAK_HAMIL                                	VARCHAR2(150),
SUDAH												CHAR(1),
CONSTRAINT kkn_pk PRIMARY KEY(NO),
CONSTRAINT kkn_mhs_unik UNIQUE (NIM),
CONSTRAINT nim_kkn_fk FOREIGN KEY (NIM) REFERENCES D_MAHASISWA(NIM));



 
CREATE TABLE KKN_TA(
ID_TA 								NUMBER,
TA     								VARCHAR2(15),
CONSTRAINT ta_unique UNIQUE (TA),
CONSTRAINT kkn_ta_pk PRIMARY KEY(ID_TA));


CREATE TABLE KKN_PERIODE(
ID_PERIODE											NUMBER,
PERIODE												VARCHAR2(15),
TANGGAL_MULAI										DATE,
TANGGAL_SELESAI										DATE,
ID_TA												NUMBER,
CONSTRAINT kkn_periode_pk PRIMARY KEY(ID_PERIODE),
CONSTRAINT periode_kkn_fk_ta FOREIGN KEY(ID_TA) REFERENCES KKN_TA(ID_TA)
);

CREATE TABLE KKN_ANGKATAN(
ID_ANGKATAN											NUMBER,
ANGKATAN											VARCHAR(12),
ID_TA												NUMBER,
ID_PERIODE											NUMBER,
KD_DOSEN                                           	VARCHAR2(12),
CONSTRAINT kkn_angkatan_pk PRIMARY KEY(ID_ANGKATAN),	
CONSTRAINT angkatan_unique UNIQUE (ANGKATAN),
CONSTRAINT angkatan_kkn_fk_ta FOREIGN KEY(ID_TA) REFERENCES KKN_TA(ID_TA),
CONSTRAINT ketupat_kkn_fk FOREIGN KEY(KD_DOSEN) REFERENCES D_DOSEN(KD_DOSEN),
CONSTRAINT angkatan_kkn_fk_periode FOREIGN KEY(ID_PERIODE) REFERENCES KKN_PERIODE(ID_PERIODE));

 
CREATE TABLE KKN_KELOMPOK(
 ID_KELOMPOK											NUMBER,
 NAMA_KELOMPOK                                          VARCHAR2(50),
 ID_ANGKATAN											NUMBER,										
 KD_DOSEN                                           	VARCHAR2(12),
 RW														VARCHAR2(12),
 DESA													VARCHAR2(50),
 KD_KEC													VARCHAR2(12),
 KD_KAB													VARCHAR2(12),
 KD_PROP												VARCHAR2(12),
 CONSTRAINT kelompok_pk PRIMARY KEY(ID_KELOMPOK),
 CONSTRAINT kkn_kelompok_unik UNIQUE (NAMA_KELOMPOK),
 CONSTRAINT dpl_kelompok_fk FOREIGN KEY (KD_DOSEN) REFERENCES D_DOSEN(KD_DOSEN),
 CONSTRAINT angkatan_kkn_fk FOREIGN KEY (ID_ANGKATAN) REFERENCES KKN_ANGKATAN(ID_ANGKATAN),
 CONSTRAINT kec_lokasi_kelompok_fk FOREIGN KEY (KD_KEC) REFERENCES MD_KEC(KD_KEC),
 CONSTRAINT kab_lokasi_kelompok_fk FOREIGN KEY (KD_KAB) REFERENCES MD_KAB(KD_KAB),
 CONSTRAINT prop_lokasi_kelompok_fk FOREIGN KEY (KD_PROP) REFERENCES MD_PROP(KD_PROP));
 

 
 
 
CREATE TABLE KKN_DETAIL_KELOMPOK(
 ID_DETAIL_KELOMPOK											NUMBER,
 ID_KELOMPOK                                           		NUMBER,
 NO                                           				NUMBER,
 CONSTRAINT detail_kelompok_pk PRIMARY KEY(ID_DETAIL_KELOMPOK,NO),
 CONSTRAINT nim_mahasiswa_fk FOREIGN KEY(NO) REFERENCES KKN_MHS(NO),
 CONSTRAINT kelompok_detail_fk FOREIGN KEY (ID_KELOMPOK) REFERENCES KKN_KELOMPOK(ID_KELOMPOK));
 

 
CREATE TABLE  "KKN_ADMIN" (	
	"USERNAME" VARCHAR2(100), 
	"PSW" VARCHAR2(100), 
	"NAMA" VARCHAR2(100), 
	"STATUS" VARCHAR2(50), 
	"IDLINK" VARCHAR2(10), 
	 CONSTRAINT "PRIMARYTBLLOGIN1" PRIMARY KEY ("USERNAME") ENABLE
   );
